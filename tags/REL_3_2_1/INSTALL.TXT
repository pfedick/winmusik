WinMusik 3 - Installation
=========================

This installation guide describes how to compile WinMusik on a Unix
compatible operation system from sourcecode. If that's not what you want,
please check https://sourceforge.net/projects/winmusik/files/client/
if there is a precompiled package for your operating system. 


Prerequirements
===============

You have to install the following packages:
	- GCC, version 4.2 or higher
	- QT, version 4.7.0 or higher (version 5 not testet yet)
	- zlib (developer package)
	- bzip2 (developer package)
	- pcre (developer package)
	- openssl (developer package)
	- libcurl (developer package)
	- libmcrypt (developer package)
	- iconv (only if you have to import files from old WinMusik version 2.x)


Automated compiliation
======================
For generating binary packages for different platforms in an automated way,
I have written a script, which does all the work. The script is called
"build_package.sh" and is in the root directory of the source release.
Before you start to compile everything manually, you could try if it works
on your system:

	./build_package.sh
	
It will detect your platform, and if all goes well, you will find a binary
package in the subfolder "distfiles".

At this time, the script supports Debian/Ubuntu, RedHat/CentOS, Fedora,
openSUSE and FreeBSD.



Compile PPLib 6
===============

PPL is a library written by the same author. It contains a lot of base classes
and functions, which are required by WinMusik. The sourcecode is included in
the WinMusik release, you will find it in the subdirectory ppl6.

	cd ppl6

The library comes with an autoconf configure script. In a perfect world, you
can simply call

	./configure

and the script will finds everything automatically. In practice, it will
not, and you have to specify some paths manually. See "configure --help"
for a description of all parameters.

On a RedHat 6 based Linux or Ubuntu 12.04, the following configure will work:

	./configure --with-pcre=/usr --with-libiconv-prefix \
	--with-nasm --with-libmcrypt-prefix --with-png --with-jpeg \
	--with-libcurl
	
On FreeBSD, you can use this one:
	./configure --with-pcre=/usr/local --with-openssl=/usr \
	--with-libiconv-prefix=/usr/local --with-nasm --with-jpeg --with-png \
	--with-libmcrypt-prefix=/usr/local --with-libcurl=/usr/local


You should also specify the base directory for the resulting files with
"--prefix=", it defaults to "/usr/local"


Then type

	make install
	


Compile WinMusik
================

Please take care, that the "bin"-directory of the ppl6 installation above
is in your search path! e.g:

	PATH=/usr/local/bin:$PATH

Change to the WinMusik directory, call qmake and then make release:

	cd ../WinMusik
	qmake-qt4
	make release

Please note: On many systems the qmake binary of Qt4 is called "qmake-qt4",
but sometimes it's simply called "qmake".

After "make release", you should find the final binary in subfolder
"release":

	patrick@server: ls -la release/WinMusik 
	-rwxr-xr-x  1 patrick  admins  2982459 26 Mai 13:26 release/WinMusik
 
You can copy it to somewhere in your search path, e.g. /usr/bin or
/usr/local/bin


